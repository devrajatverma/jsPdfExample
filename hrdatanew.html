<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="MyStyle.css" />
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.js"></script>
    <script>
        function startPrintProcess() {
            html2canvas(document.getElementById('test'), {
                onrendered: function (canvasObj) {
                    var pdf = new jsPDF('P', 'pt', 'a4'),
                        pdfConf = {
                            pagesplit: false,
                            backgroundColor: '#FFF'
                        };
                    document.body.appendChild(canvasObj); //appendChild is required for html to add page in pdf
                    pdf.addHTML(canvasObj, 0, 0, pdfConf, function () {
                        document.body.removeChild(canvasObj);
                        //pdf.addPage();
                        pdf.save('Test.pdf');
                    });
                }
            });
        }
    </script>
</head>
<body>
    <div>
        <img src="marks_and_spencer_logo.png" style="height:6vw;width:20vw;float:left" />
        <img src="feetapart_logo.png" style="height:6vw;width:20vw;float:right" />
        <div id="test" style="align-content:center;width: 90vw;">
            <table>
                <tr >
                    <td colspan='2' height='50vw' align='center'>
                        <h1>#M&S_ILikeToMoveIt Analytics</h1>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" align='center'>
                        <h3>
                            62.5% participants registered of total 1788 employees of which 71% of them are Android and
                            29% iOS users
                        </h3>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div style="height:48vw; width:48vw">
                            <canvas id="UserRegistration" responsive='true'></canvas>
                        </div>
                    </td>
                    <td>
                        <div style="height:48vw; width:48vw">
                            <canvas id="AndroidIos" responsive='true'></canvas>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" align='center'>
                        <h3 height='10vw'>Pedometer used and organisation wide average steps</h3>
                    </td>
                </tr>
                <tr>
                    <td style="padding:100px">
                        <p style="font-size: 2vw;color:greenyellow;">
                            We ensure that participants have the flexibility to chose a Pedometer of their choice.
                            This makes it easier for them to record and track their steps.
                        </p>
                    </td>
                    <td>
                        <div style="height:48vw; width:48vw">
                            <canvas id="Pedometer" responsive='true'></canvas>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="text-align:middle">
                        <div style="height:15vw; width:80vw;padding: 3vw">
                            <canvas id="steps" responsive='true'></canvas>
                        </div>
                    </td>
                    <td>

                    </td>
                </tr>
            </table>

            <script>
                new Chart(document.getElementById("UserRegistration").getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ["Registered", "Not Registered"],
                        datasets: [
                            {
                                data: [62.5, 100 - 62.5],
                                backgroundColor: [
                                    'rgba(66, 244, 72,0.3)',
                                    'rgb(244, 66, 66,0.3)'
                                ],
                                borderColor: [
                                    'rgba(66, 244, 72,1)',
                                    'rgba(244, 66, 66,1)'
                                ],
                                borderWidth: 1
                            }
                        ],
                    },
                    options: {
                        legend: {
                            position: "bottom"
                        },
                        title: {
                            display: true,
                            text: "Usre Registration"
                        }
                    }
                });
                new Chart(document.getElementById("AndroidIos").getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ["Android", "iOS"],
                        datasets: [
                            {
                                data: [71, 100 - 71],
                                backgroundColor: [
                                    'rgba(66, 244, 72,0.3)',
                                    'rgb(244, 66, 66,0.3)'
                                ],
                                borderColor: [
                                    'rgba(66, 244, 72,1)',
                                    'rgba(244, 66, 66,1)'
                                ],
                                borderWidth: 1
                            }
                        ],
                    },
                    options: {
                        legend: {
                            position: "bottom"
                        },
                        title: {
                            display: true,
                            text: "Androind Vs iOS"
                        }
                    }
                });
                var Pedometer = new Chart(document.getElementById("Pedometer").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["FitBit", "FeetApart", "Apple", "Google Fit"],
                        datasets: [{
                            label: "",
                            data: [2.6, 10.6, 30.1, 56.7],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        label: {
                            display: false
                        },
                        title: {
                            display: false,
                            text: ""
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });
                var steps = new Chart(document.getElementById("steps").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["14-Nov", "15-Nov", "16-Nov", "17-Nov", "18-Nov", "19-Nov"],
                        datasets: [{
                            label: "",
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        title: {
                            display: true,
                            text: "Organizatino wise steps"
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });

                var steps = new Chart(document.getElementById("steps").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["14-Nov", "15-Nov", "16-Nov", "17-Nov", "18-Nov", "19-Nov"],
                        datasets: [{
                            label: "",
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        title: {
                            display: true,
                            text: "Number of Posts by The Organizatino"
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });

                var steps = new Chart(document.getElementById("steps").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["14-Nov", "15-Nov", "16-Nov", "17-Nov", "18-Nov", "19-Nov"],
                        datasets: [{
                            label: "",
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        title: {
                            display: true,
                            text: "Organizatino wise steps"
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });

                var steps = new Chart(document.getElementById("steps").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["14-Nov", "15-Nov", "16-Nov", "17-Nov", "18-Nov", "19-Nov"],
                        datasets: [{
                            label: "",
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        title: {
                            display: true,
                            text: "Organizatino wise steps"
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });

                var steps = new Chart(document.getElementById("steps").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["14-Nov", "15-Nov", "16-Nov", "17-Nov", "18-Nov", "19-Nov"],
                        datasets: [{
                            label: "",
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        title: {
                            display: true,
                            text: "Organizatino wise steps"
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });

                var steps = new Chart(document.getElementById("steps").getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ["14-Nov", "15-Nov", "16-Nov", "17-Nov", "18-Nov", "19-Nov"],
                        datasets: [{
                            label: "",
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {

                        title: {
                            display: true,
                            text: "Organizatino wise steps"
                        },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });

            </script>
        </div>

        <button id="cmd" onclick="startPrintProcess()">generate PDF</button>
</body>

</html>